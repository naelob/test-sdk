"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BackingStoreParseNodeFactory = void 0;
const serialization_1 = require("../serialization");
/** Proxy implementation of ParseNodeFactory for the backing store that automatically sets the state of the backing store when deserializing. */
class BackingStoreParseNodeFactory extends serialization_1.ParseNodeProxyFactory {
    /**
     * Initializes a new instance of the BackingStoreParseNodeFactory class given the concrete implementation.
     * @param concrete the concrete implementation of the ParseNodeFactory
     */
    constructor(concrete) {
        super(concrete, (value) => {
            const backedModel = value;
            if (backedModel && backedModel.backingStore) {
                backedModel.backingStore.initializationCompleted = false;
            }
        }, (value) => {
            const backedModel = value;
            if (backedModel && backedModel.backingStore) {
                backedModel.backingStore.initializationCompleted = true;
            }
        });
    }
}
exports.BackingStoreParseNodeFactory = BackingStoreParseNodeFactory;
//# sourceMappingURL=backingStoreParseNodeFactory.js.map